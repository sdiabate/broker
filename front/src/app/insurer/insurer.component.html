<mat-card class="mat-elevation-z0">
    <mat-card-content>
        <div fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap>
            <div fxLayout="row" fxLayoutAlign="end center">
                <button mat-stroked-button color="primary" (click)="addInsurer()">Ajouter</button>
            </div>
            
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z0">
                
                <!-- siret Column -->
                <ng-container matColumnDef="siret">
                <th mat-header-cell *matHeaderCellDef> Siret </th>
                <td mat-cell *matCellDef="let element"> {{element.siret}} </td>
                </ng-container>
            
                <!-- name Column -->
                <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Nom </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                </ng-container>
            
                <!-- email Column -->
                <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef> Mail </th>
                    <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                </ng-container>
            
                <!-- phone Column -->
                <ng-container matColumnDef="phone">
                    <th mat-header-cell *matHeaderCellDef> TÃ©l. </th>
                    <td mat-cell *matCellDef="let element"> {{element.phones[0]}} </td>
                </ng-container>
            
                <!-- address Column -->
                <ng-container matColumnDef="address">
                    <th mat-header-cell *matHeaderCellDef> Adresse </th>
                    <td mat-cell *matCellDef="let element"> {{element.address | address}} </td>
                </ng-container>
            
                <!-- registrationDate Column -->
                <ng-container matColumnDef="registrationDate">
                    <th mat-header-cell *matHeaderCellDef> Date enregistrement </th>
                    <td mat-cell *matCellDef="let element"> {{element.registrationDate | date:"MM/dd/yyyy"}} </td>
                </ng-container>
            
                <!-- edit action Column -->
                <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button color="primary" (click)="showCompany(element)">
                        <mat-icon class="mat-18">reorder</mat-icon>
                    </button>
                </td>
                </ng-container>
            
                <!-- delete action Column -->
                <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button color="warn">
                        <mat-icon class="mat-18">delete</mat-icon>
                    </button>
                </td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let element; columns: displayedColumns;" class="element-row"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[10, 20, 30, 50, 100]" showFirstLastButtons></mat-paginator>
        </div>
    </mat-card-content>
</mat-card>

<ng-template #addInsurerDialog>
    <h2 mat-dialog-title>Ajout de nouvel assureur</h2>
    <div mat-dialog-content>
      <app-company-identity></app-company-identity>
    </div>
    <div mat-dialog-actions fxLayout="row" fxLayoutAlign="end stretch">
      <button mat-button cdkFocusInitial mat-dialog-close = "cancel">Annuler</button>
      <button mat-button mat-dialog-close = "add">Ajouter</button>
    </div>
  </ng-template>
